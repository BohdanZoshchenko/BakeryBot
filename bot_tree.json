{
    "description" : "Chat bot JSON chat tree",
    "for_customer" : "Mari_Ko Bakery Club",

    "params":
    {
        "telegram_token" : "1793479610:AAFJBhZAGwlVbddGk-qt4dGHvEnpDn3R5C0",
        "admin_password" : "_VpuVq`8tZy&M9_2",

        "server_port" : 33507,
        "url" : "https://bakerybotmariko.herokuapp.com/",

        "db" :
        {
            "create_tables" :
            [
                "CREATE TABLE IF NOT EXISTS category (price integer NOT NULL DEFAULT '450', PRIMARY KEY (price))",
        
                "CREATE TABLE IF NOT EXISTS item (name varchar(45) NOT NULL, description varchar(450) NOT NULL, photo bytea NOT NULL, price integer NOT NULL DEFAULT '450')",
                
                "CREATE TABLE IF NOT EXISTS client_order (client_id integer NOT NULL DEFAULT '450', description varchar NOT NULL, photo bytea)"
            ],
            
            "development" :
            {
                "host" : "localhost",
                "database" : "python_test", 
                "user" : "objectrocket",
                "port" : 5432,
                "password" : "mypass"
            },

            "production" :
            {
                "host" : "ec2-54-220-35-19.eu-west-1.compute.amazonaws.com",
                "database" : "d9a5qf332rvd60", 
                "user" : "svcsvcnqpcihzf",
                "port" : 5432,
                "password" : "d24a90027d702d66f15d5b4eb658eecb672b202d0af5934f82b3aa933373371a"
            }
        },
        
        "instagram_link" : "https://www.instagram.com/mari_ko_bakeryclub/",
        "instagram_login_credentials" : 
        {
            "login" : "",
            "password" : ""
        }
    },

    "user" :
    {
        "unknown_input" : 
        {
            "text" : "–Ø –≤–∞—Å –Ω–µ —Ä–æ–∑—É–º—ñ—éüòï –°–ø—Ä–æ–±—É–π—Ç–µ —è–∫–æ—Å—å —ñ–Ω–∞–∫—à–µ.",
            "inline_buttons" : [[["–°–ø—Ä–æ–±—É–≤–∞—Ç–∏", "new_greeting"]]]
        },
        "recent_post_title" : "üì∞–°–≤—ñ–∂–∞ –Ω–æ–≤–∏–Ω–∞üì∞\nüÜï–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —Ü–µ–π —Ç–µ–∫—Å—ÇüÜï",

        "simple_gotos" :
        {
            "start" :
            {
                "text" : "–ü—Ä–∏–≤—ñ—Ç üëãüòä, —è –±–æ—Ç ü§ñ –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å—å–∫–æ—ó üç∞üéÇüßÅ Mari_Ko Bakery Club üï∂Ô∏è! –ß–æ–≥–æ –±–∞–∂–∞—î—Ç–µ üßû?",
                "inline_buttons" : 
                [
                    [ ["–ó–∞–º–æ–≤–∏—Ç–∏ —Å–º–∞–∫–æ–ª–∏–∫–∏", "order"] ],
                    [ ["–Ü–Ω—Ñ–æ", "info_in_telegram"] ]
                ]
            }
        },
        
        "commands" :
        {
            "start" : 
            {
                "goto" : "start"
            },
            "help" : 
            {
                "goto" : "start"
            }
        },
        
        "simple_buttons" :
        [
            [ ["–ü–æ—á–∞—Ç–∏", "start" ] ]
        ],
        
        "simple_callbacks" :
        {
            "info_in_messenger" :
            {

            },

            "info_in_telegram" :
            {
                "text" : "–ó –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø–∏—Ç–∞–Ω—å –ø–∏—à—ñ—Ç—å –∫–æ–Ω–¥–∏—Ç–µ—Ä—Ü—ñ –ú–∞—Ä—ñ—ó @MariaYav",
                "inline_buttons":[[["–ù–∞–∑–∞–¥", "new_greeting"]]]
            },

            "order" :
            {
                "description" : "Create buttons from DB items entries",
                "sql" : "SELECT name, price FROM item ORDER BY price",
                "func" : "show_items"
            },

            "new_greeting" :
            {
                "text" : "–•–æ—á–µ—Ç–µ —Å–º–∞–∫–æ–ª–∏–∫—ñ–≤ üßû?",
                "inline_buttons" : 
                [
                    [ ["–ó–∞–º–æ–≤–∏—Ç–∏ —Å–º–∞–∫–æ–ª–∏–∫–∏", "order"] ],
                    [ ["–Ü–Ω—Ñ–æ", "info_in_telegram"] ]
                ]
            }
        },
        
        "composite_callbacks" :
        {
            "show_item" : 
            {
                "sql" : "SELECT name, description, photo, price FROM item WHERE name=%s",
                "func" : "show_single_item"
            },
            "order" :
            {
                "funnel" : "order"
            }
        },
        "funnels" :
        {
            "order_item" : 
            {
                "unknown_input" : "–ù–µ —Ä–æ–∑—É–º—ñ—é üòï",
                "retry_on_unknown" : true,
                "text" : "–û–∫. –Ø–∫—É –≤–∞–≥—É –±–∞–∂–∞—î—Ç–µ (–≤—ñ–¥ 2 –∫–≥ –¥–æ 102 –∫–≥ üòä)? –ù–∞–ø—Ä–∏–∫–ª–∞–¥, 3.25?",
                "input_type" : "float",
                "min_value" : 2,
                "max_value" : 102,
                "after_comma" : 2,
                "next" : 
                {
                    "func" : ""
                }
            }
        }
    }
}